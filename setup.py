# setup.py

from django.contrib.auth import get_user_model
from events.models import TimetableSlot
import datetime

User = get_user_model()

# 1) Sudha
s, _ = User.objects.get_or_create(username='sudha', defaults={'role':'faculty'})
s.set_password('Faculty@123')
s.save()

# 2) Timetable
slots = [
 ('Mon','11:15','12:15'), ('Mon','14:05','16:05'),
 ('Tue','11:15','12:15'), ('Tue','13:05','14:05'),
 ('Wed','11:15','12:15'), ('Wed','15:05','16:05'),
 ('Thu','13:05','16:05'),
 ('Sat','09:15','10:15'),('Sat','10:15','11:15'),
 ('Sat','11:15','12:15'),('Sat','16:05','17:05'),
]
for d, st, en in slots:
    start = datetime.datetime.strptime(st,'%H:%M').time()
    end   = datetime.datetime.strptime(en,'%H:%M').time()
    TimetableSlot.objects.get_or_create(faculty=s, day=d, start=start, end=end)

# 3) Students: VI-IT & IV-IT
vi_it = [ 
  '21261A1244','22261A1201','22261A1202','22261A1203','22261A1204','22261A1205',
  '22261A1206','22261A1207','22261A1208','22261A1209','22261A1210','22261A1211',
  '22261A1212','22261A1213','22261A1214','22261A1215','22261A1216','22261A1217',
  '22261A1218','22261A1220','22261A1221','22261A1222','22261A1223','22261A1224',
  '22261A1225','22261A1227','22261A1228','22261A1229','22261A1230','22261A1231',
  '22261A1232','22261A1233','22261A1234','22261A1236','22261A1237','22261A1238',
  '22261A1239','22261A1240','22261A1242','22261A1243','22261A1244','22261A1245',
  '22261A1246','22261A1247','22261A1248','22261A1250','22261A1251','22261A1252',
  '22261A1253','22261A1254','22261A1255','22261A1256','22261A1257','22261A1258',
  '22261A1259','22261A1260','22261A1261','22261A1262','22261A1263','23265A1201',
  '23265A1202','23265A1203','23265A1204','23265A1205','23265A1206'
]
iv_it = [
  '22261A1219','22261A1249','23261A1201','23261A1202','23261A1203','23261A1204',
  '23261A1205','23261A1206','23261A1207','23261A1208','23261A1209','23261A1210',
  '23261A1211','23261A1212','23261A1213','23261A1214','23261A1215','23261A1216',
  '23261A1217','23261A1218','23261A1219','23261A1221','23261A1222','23261A1223',
  '23261A1224','23261A1225','23261A1226','23261A1227','23261A1228','23261A1229',
  '23261A1230','23261A1231','23261A1232','23261A1233','23261A1234','23261A1235',
  '23261A1236','23261A1237','23261A1238','23261A1239','23261A1240','23261A1241',
  '23261A1242','23261A1243','23261A1244','23261A1245','23261A1246','23261A1247',
  '23261A1248','23261A1249','23261A1250','23261A1251','23261A1252','23261A1253',
  '23261A1254','23261A1255','23261A1256','23261A1257','23261A1258','23261A1259',
  '23261A1260','23261A1261','23261A1262','23261A1263','23261A1264','23261A1265',
  '24265A1201','24265A1202','24265A1203','24265A1204','24265A1205','24265A1206',
  '24265A1207'
]

for roll in vi_it:
    u, _ = User.objects.get_or_create(username=roll, defaults={'role':'student','batch':'VI-IT'})
    u.set_password('College@123')
    u.save()

for roll in iv_it:
    u, _ = User.objects.get_or_create(username=roll, defaults={'role':'student','batch':'IV-IT'})
    u.set_password('College@123')
    u.save()

print("Setup complete.")
